<div id="courses" class="container" style="width:100%">
  <div ng-show = "{{layout.checkRole('lecturer')}}" >
    <div class="row">
      <div class="col-md-8">
        <div class="form-group"><button class="btn btn-default" ng-click="course.changeVisible()" >Add course</button></div>
        <form role="form" ng-show="course.visible" data-ng-submit="course.createCourse()" name="courseForm">
          <div class="form-group">
            <label for="">Course name</label>
            <input type="text" class="form-control" placeholder="course" ng-model="course.course.name" required>
          </div>
          <div class="form-group">
            <label for="">Description</label>
            <textarea name="description" placeholder="description" class="form-control" ng-model="course.course.description" size="31" required></textarea>
          </div>
          <div class="form-group">
            <p for=""><strong>Image</strong></p>
            <div class="btn btn-default " ngf-select ng-model="course.course.photo"  name="photo"
                 ngf-pattern="'image/*'" accept="image/*" ngf-max-size="20MB" required>Select</div>
            <label for="" ng-show="courseForm.photo.$error.required">*required</label>
            <label for="" ng-show="course.course.photo">{{ course.course.photo.name }} </label>
          </div>
          <div class="form-group">
            <p for=""><strong>Tasks</strong></p>
            <div class="btn btn-default " ngf-select ng-model="course.course.tasks" ngf-multiple="true" name="file"
                 ngf-pattern=".pdf,.doc,.docx"
                 accept=".pdf,.doc,.docx"
                 ngf-max-size="20MB" required>Select</div>
            Files:
            <ul>
              <li ng-repeat="f in course.course.tasks">{{f.name}} {{f.$error}} {{f.$errorParam}}</li>
            </ul>
          </div>
          <div class="form-group">
            <label>Select categories:</label>
            <select multiple class="form-control" ng-model="course.course.selectedCat" required>
              <option ng-repeat="cat in course.categories" value="{{cat.id}}">{{cat.name}}</option>
            </select>
          </div>
          <div class="form-group">
            <button type="submit" ng-disabled="!courseForm.$valid" class="btn btn-default">Add</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4" ng-repeat="item in course.courses ">
      <a ui-sref="applicationLayout.homeLayout.video({id: {{ item.id }} })" class="link_to_course">
        <div class="panel panel-default">
          <div class="panel-heading title">
            {{ item.name }}
          </div>
          <div class="panel-body content">
            <img class="content" ng-src = {{item.image}} />
          </div>
          <div class="panel-body" ng-repeat="cat in item.categories" style="float:left">
            <a href="javascript:void(0)" ng-click="courses.selectedCat = cat.name" class="button">{{cat.name}}</a>
          </div>
        </div>
      </a>
    </div>
  </div>

</div>
