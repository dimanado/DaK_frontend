<div class="row">
  <div class="col-md-4">
    <div ng-show = "{{layout.checkRole('lecturer')}}" >
      <div class="form-group"><button class="btn btn-default" ng-click="video.changeVisible()" >Добавить видеолекцию</button></div>
      <form ng-show="video.visible" role="form" data-ng-submit="video.submit()" name="videoForm">
        <div class="form-group">
          <label for="">Название</label>
          <input type="text" name="name" class="form-control" placeholder="название" ng-model="video.video.name" size="31" required>
        </div>
        <div class="form-group">
          <label for="">Описание</label>
          <textarea name="description" placeholder="описание" class="form-control" ng-model="video.video.description" size="31" required></textarea>
        </div>
        <div class="form-group">
          <p for=""><strong>Видео</strong></p>
          <div class="btn btn-default" ngf-select ng-model="video.video.file" name="file"
               ngf-pattern="'video/*'" accept="video/*" ngf-max-size="2000MB" required>Выбор</div>
          <label ng-show="videoForm.file.$error.required">*required</label>
          <label ng-show="video.video.file">{{ video.video.file.name }} </label>
        </div>
        <div class="form-group">
          <p for=""><strong>Картинка к видео</strong></p>
          <div class="btn btn-default" ngf-select ng-model="video.video.photo" name="photo"
               ngf-pattern="'image/*'" accept="image/*" ngf-max-size="20MB" required>Выбор</div>
          <label ng-show="videoForm.photo.$error.required">*required</label>
          <label ng-show="video.video.photo">{{ video.video.photo.name }} </label>
        </div>
        <div class="form-group" ng-show="videoForm.file.$error.maxSize">
          <i>Файл слишком большой</i>
        </div>
        <div class="form-group">
          <button type="submit" ng-disabled="!videoForm.$valid" class="btn btn-default">Добавить</button>
        </div>

        <div class="form-group">
          <div class="progress" ng-show="video.video.file.progressPercentage >= 0">
            <div ng-style="{ 'width' : video.video.file.progressPercentage + '%'  }"
                 ng-bind="video.video.file.progressPercentage + '%'"></div>
          </div>
        </div>
        <div class="form-group">
          <label ng-show="video.video.file.progressPercentage">Успешно добавлено</label>
          <label class="err" ng-show="errorMsg">{{ video.errorMsg }}</label>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="row">
  <div class="list-group col-md-9" ng-repeat="item in video.videos">
    <a ui-sref="applicationLayout.video({id: {{ item.id }} })" class="list-group-item col-md-8 row">
      <div class="col-md-4 video-picture">
        <img ng-src = {{item.image}}>
      </div>
      <div class="col-md-4 item-description">
        <h3 data-ng-bind="item.name"></h3>
        <p>{{ item.description }}</p>
      </div>
    </a>
    <div class="col-md-1" style="display:none" showonhoverparent>
      <button ng-hide="video.checkSender(video.meta.user_id)" ng-click="video.deleteVideo(item.id)" class="btn btn-danger delete-button">Удалить</button>
    </div>
  </div>

  <div class="col-md-3 ">
    <div class="thumbnail">
      <img ng-src={{video.meta.image}}>
      <div class="caption item-description">
        <h3>{{video.meta.name}}</h3>
        <p>{{video.meta.description}}</p>
        <task video="video"></task>
      </div>
    </div>
  </div>
</div>
