<div class="row">
  <div class="col-md-4">
    <div ng-show = "{{layout.checkRole('lecturer')}}" >
      <div class="form-group"><button class="btn btn-default" ng-click="video.changeVisible()" >Add video</button></div>
      <form ng-show="video.visible" role="form" data-ng-submit="video.submit()" name="videoForm">
        <div class="form-group">
          <label for="">Title</label>
          <input type="text" name="name" class="form-control" placeholder="title" ng-model="video.video.name" size="31" required>
        </div>
        <div class="form-group">
          <label for="">Description</label>
          <textarea name="description" placeholder="description" class="form-control" ng-model="video.video.description" size="31" required></textarea>
        </div>
        <div class="form-group">
          <p for=""><strong>Video</strong></p>
          <div class="btn btn-default" ngf-select ng-model="video.video.file" name="file"
               ngf-pattern="'video/*'" accept="video/*" ngf-max-size="2000MB" required>Select</div>
          <label ng-show="videoForm.file.$error.required">*required</label>
          <label ng-show="video.video.file">{{ video.video.file.name }} </label>
        </div>
        <div class="form-group">
          <p for=""><strong>Photo of video</strong></p>
          <div class="btn btn-default" ngf-select ng-model="video.video.photo" name="photo"
               ngf-pattern="'image/*'" accept="image/*" ngf-max-size="20MB" required>Select</div>
          <label ng-show="videoForm.photo.$error.required">*required</label>
          <label ng-show="video.video.photo">{{ video.video.photo.name }} </label>
        </div>
        <div class="form-group" ng-show="videoForm.file.$error.maxSize">
          <i>File too large</i>
        </div>
        <div class="form-group">
          <button type="submit" ng-disabled="!videoForm.$valid" class="btn btn-default">submit</button>
        </div>

        <div class="form-group">
          <div class="progress" ng-show="video.video.file.progressPercentage >= 0">
            <div ng-style="{ 'width' : video.video.file.progressPercentage + '%'  }"
                 ng-bind="video.video.file.progressPercentage + '%'"></div>
          </div>
        </div>
        <div class="form-group">
          <label ng-show="video.video.file.progressPercentage">Upload Successful</label>
          <label class="err" ng-show="errorMsg">{{ video.errorMsg }}</label>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="row">
  <div class="list-group col-md-9">
    <a ui-sref="applicationLayout.video({id: {{ item.id }} })" class="list-group-item row" ng-repeat="item in video.videos">
      <div class="col-md-4 video-picture">
        <img ng-src = {{item.image}}>
      </div>
      <div class="col-md-4 item-description">
        <h3 data-ng-bind="item.name"></h3>
        <p>{{ item.description }}</p>
      </div>
      <div class="col-md-4" style="display:none" showonhoverparent>
        <button ng-hide="video.checkSender(video.meta.user_id)" ng-click="video.deleteVideo(item.id)" class="btn btn-danger delete-button">Delete</button>
      </div>
    </a>
  </div>

  <div class="col-md-3 ">
    <div class="thumbnail">
      <img ng-src={{video.meta.image}}>
      <div class="caption item-description">
        <h3>{{video.meta.name}}</h3>
        <p>{{video.meta.description}}</p>
        <task video="video"></task>
      </div>
    </div>
  </div>
</div>
